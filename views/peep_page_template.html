<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <title id="page-title">Loading...</title>

    <script>
      // Check if we are on GitHub Pages
      const isGithubPages = window.location.hostname === "denisecase.github.io";
      window.ROOT = isGithubPages ? "/top-three" : "..";
    </script>

    <!-- Dynamically load the CSS with the correct ROOT -->
    <link rel="stylesheet" id="default-styles" />
    <script>
      // Set the href dynamically based on the environment
      document.getElementById(
        "default-styles"
      ).href = `${window.ROOT}/styles/peep_page/all_peep_defaults.css`;
    </script>
  </head>
  <body>
    <!-- The Card Wrapper -->
    <div id="card-container">
      <div id="content" class="peep-content">Loading content...</div>
    </div>

    <!-- Button Container -->
    <div class="button-container">
      <!-- Edit Markdown -->
      <a id="edit-md-link" target="_blank" class="edit-button">
        Edit My Favorites </a
      ><br />
      (Look for ✏️ towards the top right after clicking)
      <br /><br /><br />

      The next two buttons open in the GitHub editor (if signed into GitHub) so you can
      pick colors: <br>

      <!-- Edit CSS for the Peep's Page -->
      <a id="edit-css-link" target="_blank" class="edit-button">
        Edit My Color & Styles
      </a>

      <!-- Edit Home Button CSS -->
      <a id="edit-home-button-css-link" target="_blank" class="edit-button">
        Edit My Button on the Home Page
      </a>
      <br /><br />
      Or go back to the home page: <br>
      <!-- Go Back Home (using the dynamic ROOT path) -->
      <a href="#" class="home-button" id="home-button"
        >&larr; Go Back to Home Page</a
      >
    </div>

    <!-- Dynamically load JS with ROOT path -->
    <script>
      const script = document.createElement("script");
      script.src = `${window.ROOT}/views/peep_page.js`;
      document.body.appendChild(script);

      // Dynamically set the home button path
      document.getElementById("home-button").href = `${window.ROOT}/index.html`;
    </script>
  </body>
</html>
